---
import Layout from '@/layouts/Layout.astro';
import Header from '@/components/Header.astro';
import Footer from '@/components/Footer.astro';
import Divider from '@/components/Divider.astro';
import LeadMagnetForm from '@/components/LeadMagnetForm.tsx';

export const prerender = false;

const { id } = Astro.params;
const canonicalUrl = id ? `https://tenbeltz.com/contenido/${id}` : 'https://tenbeltz.com/contenido';
const url = new URL(Astro.request.url);
const token = url.searchParams.get('token');
---

<Layout
  title="TenBeltz | Contenido premium para IA en SaaS"
  description="Accede a recursos prácticos para implementar IA en producto con calidad, escalabilidad y control de costes."
  canonical={canonicalUrl}
>
  <Header />
  <main class="relative z-10 flex flex-col flex-1 overflow-x-hidden">
    <section class="relative text-white">
      <div class="flex flex-col items-center justify-center px-4 py-20 mx-auto text-center max-w-screen-2xl gap-y-4 lg:px-16 lg:py-24">
        <span class="text-xs font-semibold tracking-[0.4em] text-pheromone-purple/70">TENBELTZ LABS</span>
        <h1 class="text-4xl font-extrabold lg:text-5xl">Contenido premium para IA en producto</h1>
        <p class="max-w-2xl text-lg text-slate-300">
          Recursos concretos para equipos SaaS que quieren pasar de prototipo a producción sin perder control de costes.
        </p>
      </div>
    </section>

    <Divider text="Completa el formulario y recibe el contenido por email." />

    <section class="relative text-white bg-grid">
      <div class="max-w-screen-xl px-4 py-20 mx-auto lg:px-16 lg:py-24">
        <LeadMagnetForm client:load magnetId={id || ''} downloadToken={token || undefined} />
      </div>
    </section>
  </main>
  <Footer />
</Layout>
