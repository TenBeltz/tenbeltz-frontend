---
import { ReactComponent as ProcessIcon } from '@/assets/icons/process-outline.svg';
import { ReactComponent as ChartLineIcon } from '@/assets/icons/chart-line-outline.svg';
import { ReactComponent as SecureIcon } from '@/assets/icons/secure-outline.svg';
import backgroundGradientPC from '/public/images/img/offer-gradient-background-pc.png';
import backgroundGradientMobile from '/public/images/img/offer-gradient-background-mobile.png';
import { Picture } from 'astro:assets';
import { ScrollReveal } from './ScrollReveal';

interface Service {
  logo: React.FC<React.SVGProps<SVGSVGElement>>;
  title: string;
  description: string;
  logoProps?: React.SVGProps<SVGSVGElement>;
}

const services: Service[] = [
  {
    logo: ProcessIcon,
    title: 'IA Feature Audit',
    description: 'Diagnóstico rápido para definir caso de uso, riesgos, métricas y coste. Sales con un plan por fases y prioridades claras.',
    logoProps: { width: 36, height: 36, fill: '#ffffff' },
  },
  {
    logo: ChartLineIcon,
    title: 'Prototype Sprint',
    description: 'Prototipo funcional en 10-15 días con evals básicas, logging y una demo interna para validar antes de escalar.',
    logoProps: { width: 36, height: 36, fill: 'none', stroke: '#ffffff' },
  },
  {
    logo: SecureIcon,
    title: 'Producción y escalado',
    description: 'Feature integrada en tu producto con observabilidad, guardrails, seguridad y control de costes y latencia.',
    logoProps: { width: 36, height: 36, fill: 'none', stroke: '#ffffff', strokeWidth: 2 },
  },
]
---

<section id="enfoque" class="relative text-white bg-grid">
  <div class="flex flex-col items-center justify-center max-w-screen-xl px-4 py-20 mx-auto lg:px-16 lg:py-28">
    <ScrollReveal client:load>
      <h2 class="mb-20 text-4xl font-bold text-center">Tu IA lista para producción</h2>
    </ScrollReveal>
    <div id="services" class="grid grid-cols-1 mb-10 lg:grid-cols-3 gap-x-9 gap-y-7">
      {services.map((service, index) => (
        <ScrollReveal client:load delay={index * 200}>
          <div class="flex flex-col h-full max-w-xs px-6 transition-all backdrop-blur-[1px] rounded-lg bg-[#0B0122CC]/80 gap-y-4 py-7 border border-pheromone-purple/30 hover:border-blueberry-glaze hover:bg-gradient-to-bl from-[#340076]/80 hover:shadow-[0px_0px_20px_0px_rgba(117,4,205,1.00)] to-[#1D0043]/90">
            <div class="flex items-center justify-center">
              <service.logo {...(service.logoProps || {})} />
            </div>
            <div class="flex items-center justify-center flex-1">
              <h3 class="text-xl font-semibold leading-6 text-center">{service.title}</h3>
            </div>
            <div class="flex items-center justify-center">
              <p class="text-sm leading-4 text-slate-300">{service.description}</p>
            </div>
          </div>
        </ScrollReveal>
      ))}
    </div>
    <a href="#contact-section" class="font-semibold leading-none border btn border-pheromone-purple text-pheromone-purple w-fit bg-pheromone-purple/20 hover:bg-pheromone-purple/25">Quiero un plan claro</a>
  </div>
  <Picture src={backgroundGradientPC} alt="backgroundGradientPC" aria-hidden="true" loading="eager" fetchpriority="high" class="absolute inset-0 hidden object-cover w-full h-full -z-50 lg:block" />
  <Picture src={backgroundGradientMobile} alt="backgroundGradientMobile" aria-hidden="true" loading="eager" fetchpriority="high" class="absolute inset-0 object-cover w-full h-full -z-50 lg:hidden" />
</section>
