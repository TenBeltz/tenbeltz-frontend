---
import { ReactComponent as PhoneIcon } from '@/assets/icons/phone-outline.svg';
import { ReactComponent as MailIcon } from '@/assets/icons/envelope-outline.svg';
import { Picture } from 'astro:assets';
import backgroundGradientPC from '/public/images/img/contact-gradient-background-pc.png';
import backgroundGradientMobile from '/public/images/img/contact-gradient-background-mobile.png';
import ContactForm from './ContactForm';
import { ScrollReveal } from './ScrollReveal';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

export const contactInfo = {
  phones: ['+34 640 520 819'],
  email: 'hello@tenbeltz.com',
}
---

<section id="contact-section" class="relative text-white bg-grid">
  <div class="flex flex-col max-w-screen-xl mx-auto lg:flex-row">
    <div class="px-4 py-20 lg:flex-1 lg:px-16">
      <div class="flex flex-col gap-y-8">
        <div class="flex flex-col max-w-[21rem] gap-y-6">
          <ScrollReveal client:visible>
            <h3 class="text-4xl font-bold">
              {t('contact.title')} 
              <span class="bg-gradient-to-r from-[#9238D6] to-[#C45BFF] bg-clip-text text-transparent">{t('contact.titleHighlight')}</span>
            </h3>
          </ScrollReveal>
          <ScrollReveal client:visible>
            <div class="flex flex-col gap-y-4 text-lg text-slate-300">
              <p>{t('contact.subtitle')}</p>
              <ul class="flex flex-col gap-y-2">
                <li>{t('contact.list.1')}</li>
                <li>{t('contact.list.2')}</li>
                <li>{t('contact.list.3')}</li>
              </ul>
            </div>
          </ScrollReveal>
        </div>
        <ul class="flex flex-col gap-y-4 text-slate-300">
          <ScrollReveal client:visible>
            <li class="flex items-center gap-x-2">
              <MailIcon strokeWidth="1.5" className="size-6" stroke="currentColor" />
              <a href={`mailto:${contactInfo.email}`} class="text-xs">{contactInfo.email}</a>
            </li>
          </ScrollReveal>
          {contactInfo.phones.map((phone, index) => (
            <ScrollReveal client:visible delay={(index + 1) * 100}>
              <li class="flex items-center gap-x-2">
                <PhoneIcon strokeWidth="1.5" className="size-6" stroke="currentColor" />
                <a href={`tel:${phone}`} class="text-xs">{phone}</a>
              </li>
            </ScrollReveal>
          ))}
        </ul>
      </div>
    </div>
    <div class="px-4 py-20 lg:border-x lg:border-berry-blackmail md:flex-1 lg:px-16 bg-gradient-to-r backdrop-blur-[2px] from-[#561B834D] to-[#1A00764D]">
      <ContactForm client:load lang={lang} />
    </div>
  </div>
  <Picture src={backgroundGradientPC} alt="backgroundGradientPC" aria-hidden="true" loading="eager" fetchpriority="high" class="absolute inset-0 hidden object-cover w-full h-full -z-50 lg:block" />
  <Picture src={backgroundGradientMobile} alt="backgroundGradientMobile" aria-hidden="true" loading="eager" fetchpriority="high" class="absolute inset-0 object-cover w-full h-full -z-50 lg:hidden" />
</section>
